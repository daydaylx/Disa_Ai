# Bug & Issue List

Dieses Dokument listet potenzielle Probleme, Risiken und architektonische Schulden auf, die während der Code-Analyse identifiziert wurden.

---

## 1. Hohes Risiko: Komplexe und fehleranfällige Build- & Caching-Logik

- **Risiko:** Hoch
- **Typ:** Potenziell App-brechender Fehler (App-breaking bug)
- **Beschreibung:** Die Anwendung verwendet eine sehr komplexe, benutzerdefinierte Logik, um den Basispfad für Deployments zu bestimmen und um Caches im Service Worker zu verwalten. Ein kleiner Fehler in dieser Logik, z.B. bei einer Änderung der Deployment-Umgebung, kann dazu führen, dass die gesamte Anwendung für Endbenutzer nicht mehr lädt (404-Fehler auf Assets, veraltete App-Versionen).
- **Betroffene Dateien:**
  - `vite.config.ts`
  - `public/sw.js`

---

## 2. Mittleres Risiko: Fehlende Architektur für Mehrsprachigkeit (Internationalisierung / i18n)

- **Risiko:** Mittel (steigt auf Hoch, falls Mehrsprachigkeit benötigt wird)
- **Typ:** Architektonische Schuld
- **Beschreibung:** Alle für den Benutzer sichtbaren Texte sind als deutsche Zeichenketten fest im Quellcode verankert. Es gibt keine Infrastruktur für die Übersetzung in andere Sprachen. Die nachträgliche Implementierung von Mehrsprachigkeit würde einen massiven, fehleranfälligen Umbau der gesamten Anwendung erfordern.
- **Betroffene Dateien (Beispiele):**
  - `src/components/Composer.tsx` (z.B. "Schreiben Sie eine Nachricht...")
  - `src/components/CodeBlock.tsx` (z.B. "Zeilenumbruch deaktivieren")
  - `src/hooks/useChat.ts` (z.B. "Rate-Limit aktiv...")
  - _(Anmerkung: Betrifft potenziell alle UI-Komponenten)_

---

## 3. Mittleres Risiko: Veralteter API-Client (Legacy Code)

- **Risiko:** Mittel
- **Typ:** Technische Schuld
- **Beschreibung:** Die zentrale API-Kommunikation für den Chat-Stream basiert auf einer manuellen `fetch`-Implementierung, die explizit als "Legacy" markiert ist. Dieser Ansatz ist im Vergleich zu modernen Datenabruf-Bibliotheken fehleranfälliger in Bezug auf State-Management, Fehlerbehandlung und Race Conditions. Zukünftige Änderungen an dieser Logik sind riskant.
- **Betroffene Dateien:**
  - `src/lib/openrouter.ts`
  - `src/hooks/useChat.ts`

---

## 4. Niedriges Risiko: Unklare Code-Intention im State Management

- **Risiko:** Niedrig
- **Typ:** Wartbarkeit / Code-Klarheit
- **Beschreibung:** Im `StudioContext` gibt es auskommentierten Code, der eine bewusste Design-Entscheidung (das Nicht-Zurücksetzen einer Farbe) dokumentiert. Obwohl es kein Fehler ist, kann dies zukünftige Entwickler verwirren und zu unbeabsichtigten Änderungen führen. Eine klarere Dokumentation der Absicht wäre besser.
- **Betroffene Dateien:**
  - `src/app/state/StudioContext.tsx`
