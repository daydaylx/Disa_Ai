# Cloudflare Pages Konfiguration für Issue #81
# Deployment-Härtung und Cache-Optimierung

name = "disa-ai"
compatibility_date = "2024-09-30"
pages_build_output_dir = "dist"

[env.production]
  # Main branch als Produktionsumgebung
  vars = {
    NODE_ENV = "production",
    VITE_OPENROUTER_BASE_URL = "https://openrouter.ai/api/v1",
    VITE_BASE_URL = "/",
    VITE_ENABLE_ANALYTICS = "false",
    VITE_ENABLE_DEBUG = "false",
    VITE_ENABLE_PWA = "true",
    VITE_ENV = "production",
    VITE_SENTRY_DSN = "",
    VITE_BUILD_ID = "",
    VITE_BUILD_TIME = "",
    VITE_BUILD_TIMESTAMP = "",
    VITE_GIT_SHA = "",
    VITE_GIT_BRANCH = "",
    VITE_VERSION = "",
    SENTRY_ORG = "disa-ai",
    SENTRY_PROJECT = "disa-ai-web",
    SENTRY_AUTH_TOKEN = ""
  }

[env.preview]
  # Alle anderen Branches als Preview
  vars = {
    NODE_ENV = "production",
    VITE_OPENROUTER_BASE_URL = "https://openrouter.ai/api/v1",
    VITE_BASE_URL = "/",
    VITE_ENABLE_ANALYTICS = "false",
    VITE_ENABLE_DEBUG = "false",
    VITE_ENABLE_PWA = "true",
    VITE_ENV = "staging",
    VITE_SENTRY_DSN = "",
    VITE_BUILD_ID = "",
    VITE_BUILD_TIME = "",
    VITE_BUILD_TIMESTAMP = "",
    VITE_GIT_SHA = "",
    VITE_GIT_BRANCH = "",
    VITE_VERSION = "",
    SENTRY_ORG = "disa-ai",
    SENTRY_PROJECT = "disa-ai-web",
    SENTRY_AUTH_TOKEN = ""
  }

# Note: Build configuration is handled by Cloudflare Pages dashboard
# Cache purging and deploy hooks are managed through Pages dashboard
