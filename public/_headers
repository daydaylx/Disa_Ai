/*
  # Security headers
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  X-Frame-Options: DENY
  Cross-Origin-Resource-Policy: same-origin

  # HSTS - Force HTTPS for 1 year with preload
  Strict-Transport-Security: max-age=31536000; includeSubDomains; preload

  # Prevent MIME type confusion
  X-Download-Options: noopen

  # Cross-origin isolation (optional but recommended)
  Cross-Origin-Opener-Policy: same-origin
  Cross-Origin-Embedder-Policy: require-corp

  # Permissions policy - restrict dangerous APIs for mobile-first PWA
  Permissions-Policy: geolocation=(), microphone=(), camera=(), payment=(), usb=(), serial=(), bluetooth=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=(), battery=(), display-capture=(), document-domain=(), encrypted-media=(), fullscreen=(self), gamepad=(), midi=(), picture-in-picture=(), publickey-credentials-get=(), screen-wake-lock=(), speaker-selection=(), xr-spatial-tracking=()

  # Performance & PWA headers
  Accept-CH: Viewport-Width, DPR, Width
  Critical-CH: Viewport-Width, DPR
  Vary: Accept-Encoding, Viewport-Width, DPR

  # Fix für Issue #75: Erweiterte CSP für SPA-Funktionalität
  Content-Security-Policy: default-src 'self';
    base-uri 'self';
    frame-ancestors 'none';
    object-src 'none';
    img-src 'self' data: blob:;
    font-src 'self' data:;
    style-src 'self' 'unsafe-inline';
    script-src 'self' 'wasm-unsafe-eval' 'unsafe-inline';
    connect-src 'self' https://openrouter.ai https://*.openrouter.ai wss://localhost:* ws://localhost:*;
    worker-src 'self' blob:;
    manifest-src 'self';
    form-action 'self';
    frame-src 'none';
    media-src 'self' blob:;
    child-src 'none';
    report-uri /csp-report;
    upgrade-insecure-requests
*/

/*
  /index.html 200
*/

/index.html
  Cache-Control: no-store, must-revalidate

/*.html
  Cache-Control: no-store, no-cache, must-revalidate

/offline.html
  Cache-Control: public, max-age=0, must-revalidate

/sw.js
  Cache-Control: no-cache, no-store, must-revalidate

/manifest.webmanifest
  Cache-Control: public, max-age=0, must-revalidate

/assets/*
  Cache-Control: public, max-age=31536000, immutable

/*.js
  Cache-Control: public, max-age=31536000, immutable

/*.css
  Cache-Control: public, max-age=31536000, immutable

/*.woff
  Cache-Control: public, max-age=31536000, immutable

/*.woff2
  Cache-Control: public, max-age=31536000, immutable

/*.ttf
  Cache-Control: public, max-age=31536000, immutable

/*.otf
  Cache-Control: public, max-age=31536000, immutable

/*.png
  Cache-Control: public, max-age=31536000, immutable

/*.jpg
  Cache-Control: public, max-age=31536000, immutable

/*.jpeg
  Cache-Control: public, max-age=31536000, immutable

/*.webp
  Cache-Control: public, max-age=31536000, immutable

/*.avif
  Cache-Control: public, max-age=31536000, immutable

/*.svg
  Cache-Control: public, max-age=31536000, immutable

/*.ico
  Cache-Control: public, max-age=31536000, immutable

/icons/*
  Cache-Control: public, max-age=31536000, immutable
