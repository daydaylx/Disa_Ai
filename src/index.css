/**
 * Main CSS Entry Point - Nightfall Design System
 *
 * Mobile-first, high-contrast, calm surfaces with minimal shadows and clear hierarchy.
 */

/* Import Theme FIRST - Source of Truth for Variables */
@import "./styles/theme-slate.css";
@import "./styles/chalkboard-theme.css";

/* Base Styles & Resets */
@import "./styles/base.css";
@import "./styles/white-space.css";
@import "./styles/page-spacing.css";
@import "./styles/vertical-rhythm.css";
@import "./styles/z-index-system.css";

/* Components */
@import "./styles/components.css";

/* Animations */
@import "./styles/interactive-states.css";
@import "./styles/ui-state-animations.css";
/* @import "./styles/logo-animations.css";  -- Keep if subtle, remove if too "loud" */

/* Deprecated legacy styles removed as part of the reset */

/* Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   PROJECT-SPECIFIC OVERRIDES
   ============================================================================ */

@layer base {
  :root {
    color-scheme: light dark; /* Support both themes */
  }

  /* Apply theme colors - will be overridden by [data-theme="dark"] */
  html {
    background-color: var(--bg-app);
    color: var(--ink-primary);
  }

  /* Dark theme support */
  html[data-theme="dark"] {
    color-scheme: dark;
  }

  body {
    background-color: var(--bg-app);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .root {
    min-height: 100dvh;
    background: var(--bg-app);
    color: var(--text-primary);
    position: relative;
    z-index: var(--z-base);
  }

  /* Typography overrides for Book Feel */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--ink-primary);
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  /* Mobile Typography Boost: Larger base font for better readability */
  @media (max-width: 640px) {
    html {
      font-size: 112.5%; /* 18px base from 16px */
    }
  }
}

@layer components {
  /* ========================================================================
     PAPER DEPTH UTILITIES (Replacements for Neumorphism)
     ======================================================================== */

  .elevated {
    box-shadow: var(--shadow-paper);
    border: 1px solid var(--border-color);
  }

  .elevated-strong {
    box-shadow: var(--shadow-floating);
    border: 1px solid var(--border-color);
  }

  /* Retain class names for compatibility but map to Paper styles */
  .surface-card--raised {
    box-shadow: var(--shadow-floating);
    background-color: var(--bg-page);
    border: 1px solid var(--border-color);
  }

  /* Remove transforms on hover for a calmer feel */
  .surface-card:hover,
  .card-depth:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-floating);
  }

  /* Mobile Prose: Limit line lengths */
  @media (max-width: 640px) {
    .prose {
      max-width: 100%;
    }
  }
}
