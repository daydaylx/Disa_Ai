@layer components {
  .animated-core {
    position: relative;
    width: min(520px, 86vw);
    aspect-ratio: 1 / 1;
    margin: 0 auto;
  }

  .animated-core__layer {
    position: absolute;
    inset: 10%;
    border-radius: 9999px;
    filter: blur(48px);
    opacity: 0.9;
  }

  .animated-core__layer--primary {
    background:
      radial-gradient(120% 120% at 28% 34%, color-mix(in srgb, var(--accent-chat) 78%, transparent) 0%, transparent 68%),
      radial-gradient(120% 120% at 68% 66%, color-mix(in srgb, var(--accent-roles) 72%, transparent) 0%, transparent 70%);
    mix-blend-mode: screen;
    animation: core-gradient-sway 26s ease-in-out infinite alternate;
  }

  .animated-core__layer--secondary {
    inset: 16%;
    background:
      radial-gradient(110% 110% at 42% 36%, color-mix(in srgb, var(--accent-models) 74%, transparent) 0%, transparent 70%),
      radial-gradient(110% 110% at 62% 72%, color-mix(in srgb, var(--accent-settings) 72%, transparent) 0%, transparent 68%);
    filter: blur(64px);
    opacity: 0.78;
    mix-blend-mode: screen;
    animation: core-gradient-sway 32s ease-in-out infinite alternate-reverse;
  }

  .animated-core__halo {
    position: absolute;
    inset: 6%;
    border-radius: 9999px;
    background: conic-gradient(
      from 120deg,
      color-mix(in srgb, var(--accent-chat) 45%, transparent),
      color-mix(in srgb, var(--accent-roles) 35%, transparent),
      color-mix(in srgb, var(--accent-models) 45%, transparent),
      color-mix(in srgb, var(--accent-settings) 35%, transparent),
      color-mix(in srgb, var(--accent-chat) 45%, transparent)
    );
    filter: blur(12px);
    opacity: 0.32;
    animation: core-rotate 38s linear infinite;
  }

  .animated-core__pulse {
    position: absolute;
    inset: 4%;
    border-radius: 9999px;
    background: radial-gradient(circle at 50% 42%, color-mix(in srgb, var(--accent-chat-glow) 85%, transparent) 0%, transparent 70%);
    filter: blur(26px);
    opacity: 0.42;
    animation: core-pulse 18s ease-in-out infinite;
  }

  .animated-core__grain {
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at 50% 50%,
      color-mix(in srgb, var(--text-primary) 6%, transparent) 0%,
      transparent 55%
    );
    mix-blend-mode: soft-light;
    filter: blur(2px);
    opacity: 0.35;
  }

  @keyframes core-gradient-sway {
    0% {
      transform: translate3d(-8px, -6px, 0) scale(0.98);
    }
    50% {
      transform: translate3d(4px, 6px, 0) scale(1.02);
    }
    100% {
      transform: translate3d(10px, -4px, 0) scale(1.04);
    }
  }

  @keyframes core-rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes core-pulse {
    0% {
      opacity: 0.32;
      transform: scale(0.98);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.03);
    }
    100% {
      opacity: 0.32;
      transform: scale(0.98);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .animated-core__layer--primary,
    .animated-core__layer--secondary {
      animation-duration: 48s;
    }

    .animated-core__halo {
      animation-duration: 90s;
    }

    .animated-core__pulse {
      animation-duration: 32s;
    }
  }
}
