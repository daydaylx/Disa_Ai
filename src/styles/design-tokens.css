/**
 * Glassmorphism design tokens exposed as CSS custom properties.
 * Mirrors the TypeScript tokens in `design-tokens.ts`.
 * Following the Aufgaben.md glassmorphism and mobile-first design approach.
 */

:root {
  /* Basis */
  --bg0: #0b0d10; /* Canvas */
  --bg1: #101318; /* Layer 1 */
  --bg2: #161a20; /* Layer 2 für mehr Tiefe */
  --surface-0: rgba(13, 17, 24, 0.82); /* Grundfläche: dezenter, lässt Hintergrund durchscheinen */
  --surface-1: rgba(18, 23, 32, 0.88); /* Kartenfläche: weniger Glas-Effekt */
  --surface-2: rgba(24, 30, 42, 0.92); /* Erhöhte Oberflächen: reduzierte Opazität */
  --surface-glass-card: rgba(var(--glass-bg), var(--glass-alpha-card));
  --surface-glass-panel: rgba(var(--glass-bg), var(--glass-alpha-panel));
  --surface-glass-chrome: rgba(var(--glass-bg), var(--glass-alpha-chrome));
  --surface-card-default: var(--surface-1);
  --surface-card-hover: var(--surface-2);
  --surface-card-muted: color-mix(in srgb, var(--surface-1) 75%, transparent);
  --border-card: rgba(var(--border-rgb), 0.55);
  --border-card-strong: rgba(var(--border-strong-rgb), 0.65);
  --shadow-card: 0 12px 28px rgba(0, 0, 0, 0.35);
  --shadow-card-hover: 0 18px 36px rgba(0, 0, 0, 0.45);

  /* Text-Tokens (WCAG AA) */
  --text-strong: #f4f7ff; /* 13:1 auf bg1 */
  --text-primary: #dde6f6; /* >6:1 auf surface-1 */
  --text-muted: rgba(204, 216, 233, 0.85); /* 5.2:1 auf surface-1 - WCAG AA konform */
  --text-subtle: rgba(204, 216, 233, 0.72); /* 4.1:1 auf surface-2 - verbessert */
  --text-0: var(--text-strong); /* Legacy Alias */
  --text-1: var(--text-primary);
  --text-2: var(--text-muted);
  --fg: var(--text-strong); /* Backward compatible */
  --fg-dim: var(--text-primary);
  --fg-subtle: var(--text-subtle);
  --white: #ffffff; /* Pure white for masks and technical uses */

  /* Akzente (kalt/warm) */
  --acc1: #6fd3ff;
  --acc2: #ff9f6f;
  --acc1-rgb: 111, 211, 255;
  --acc2-rgb: 255, 159, 111;

  /* Glas-Parameter - verbessert für Performance */
  --glass-bg: 18, 22, 28; /* RGB von bg0 */
  --glass-alpha: 0.2; /* Legacy alpha */
  --glass-alpha-subtle: 0.12; /* Für subtile Oberflächen */
  --glass-alpha-strong: 0.3; /* Für wichtige Oberflächen */
  --glass-alpha-card: 0.22; /* Standard-Karten - etwas milchiger */
  --glass-alpha-panel: 0.28; /* Navigation & Dialoge - mehr Separation */
  --glass-alpha-chrome: 0.12; /* Toolbars / Header */
  --glass-alpha-overlay: 0.36; /* Dimmed Hintergründe */
  --glass-tint-rgb: 142, 196, 255; /* Kühle Glas-Tönung */
  --glass-tint-neutral-rgb: 188, 208, 242; /* Neutraler Umbra */
  --glass-highlight-rgb: 242, 248, 255; /* Subtile Highlights für Milchglas */
  --glass-tint-alpha-subtle: 0.18;
  --glass-tint-alpha-strong: 0.28;
  --glass-tint-alpha-neutral: 0.22;
  --glass-stroke: rgba(255, 255, 255, 0.12);
  --glass-stroke-soft: rgba(255, 255, 255, 0.08);
  --glass-stroke-strong: rgba(255, 255, 255, 0.18);
  --glass-border-hard: rgba(255, 255, 255, 0.24);
  --glass-noise-opacity: 0.08;
  --glass-radius: 18px;
  --glass-blur-sm: 6px;
  --glass-blur-md: 14px;
  --glass-blur-lg: 26px;
  --glass-blur-xl: 48px;

  /* Schatten & Glow (sparsam, performance-optimiert) */
  --elev-1: 0 2px 10px rgba(0, 0, 0, 0.35);
  --elev-2: 0 6px 26px rgba(0, 0, 0, 0.45);
  --elev-3: 0 12px 40px rgba(0, 0, 0, 0.55);
  --elev-glass-inset: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  --neon: 0 0 18px rgba(var(--acc1-rgb), 0.35);
  --neon-strong: 0 0 24px rgba(var(--acc1-rgb), 0.5);

  /* Marke */
  --brand-rgb: 111, 211, 255;
  --brand: rgb(var(--brand-rgb));
  --brand-weak: rgba(var(--brand-rgb), 0.22);
  --brand-strong: rgba(var(--brand-rgb), 0.92);
  --brand-contrast: #03101a;

  /* Spacing & Typo - erweitertes 8pt Grid */
  --space-0: 4px;
  --space-1: 8px;
  --space-2: 12px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 32px;
  --space-6: 40px;
  --space-8: 64px;
  --space-10: 80px;
  --space-12: 96px;

  /* Semantische Spacing-Tokens */
  --spacing-xs: var(--space-1); /* 8px - Kleinste Abstände (z.B. inline gaps) */
  --spacing-sm: var(--space-2); /* 12px - Kleine Abstände (z.B. zwischen verwandten Items) */
  --spacing-md: var(--space-3); /* 16px - Medium Abstände (z.B. zwischen Komponenten) */
  --spacing-lg: var(--space-4); /* 24px - Große Abstände (z.B. zwischen Sections) */
  --spacing-xl: var(--space-4); /* 24px - Extra große Abstände (z.B. Page Padding) */
  --spacing-2xl: var(--space-6); /* 40px - Sehr große Abstände */
  --spacing-3xl: var(--space-8); /* 64px - Maximale Abstände */

  /* Spezifische Anwendungsfälle */
  --section-gap: var(--spacing-lg); /* Abstand zwischen Sektionen */
  --stack-gap: var(--spacing-md); /* Abstand in vertikalen Stacks */
  --inline-gap: var(--spacing-sm); /* Abstand in horizontalen Layouts */
  --component-gap: var(--spacing-md); /* Abstand zwischen Komponenten */
  --page-padding-y: var(--spacing-xl); /* Vertikales Page Padding */
  --page-padding-x: var(--spacing-md); /* Horizontales Page Padding */

  --font-display: 26px;
  --font-h1: 22px;
  --font-h2: 18px;
  --font-h3: 16px;
  --font-body: 15px;
  --font-hint: 13px;
  --font-caption: 11px;

  /* Status colors - verbesserte Kontraste */
  --success-rgb: 52, 199, 89;
  --success: rgb(var(--success-rgb));
  --success-bg: rgba(var(--success-rgb), 0.1);
  --warning-rgb: 255, 204, 0;
  --warning: rgb(var(--warning-rgb));
  --warning-bg: rgba(var(--warning-rgb), 0.1);
  --danger-rgb: 255, 59, 48;
  --danger: rgb(var(--danger-rgb));
  --danger-bg: rgba(var(--danger-rgb), 0.1);

  /* Layout - konsistente Radii */
  --max-content-width: 880px;
  --radius-sm: 8px;
  --radius-base: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-pill: 999px;
  --radius-full: 9999px;
  --surface-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  --gap-base: 16px;

  /* Touch targets - accessibility first */
  --touch-minimum: 44px;
  --touch-recommended: 48px;
  --touch-comfortable: 56px;
  --touch-large: 64px;

  /* Mobile-specific viewport units */
  --mobile-vh: 100vh; /* Fallback */
  --mobile-vh: 100dvh; /* Dynamic viewport height */
  --mobile-safe-top: env(safe-area-inset-top, 0px);
  --mobile-safe-bottom: env(safe-area-inset-bottom, 0px);
  --mobile-safe-left: env(safe-area-inset-left, 0px);
  --mobile-safe-right: env(safe-area-inset-right, 0px);

  /* Motion - verbesserte Übergänge */
  --transition-fast: 120ms;
  --transition-normal: 200ms;
  --transition-slow: 300ms;
  --transition-spring: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);

  /* Typography - optimiert für Lesbarkeit */
  --font-mono:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --font-code: ui-monospace, "SF Mono", "Monaco", "Inconsolata", "Roboto Mono", monospace;

  /* Focus - verbesserte Sichtbarkeit */
  --focus-ring: 0 0 0 3px rgba(var(--acc1-rgb), 0.7);
  --focus-ring-strong: 0 0 0 4px rgba(var(--acc1-rgb), 0.8);
  --glass-focus-ring: 0 0 0 3px rgba(188, 208, 242, 0.55);
  --glass-focus-ring-strong: 0 0 0 4px rgba(111, 211, 255, 0.65);
  --focus-offset: 2px;

  /* Interaktionsfarben */
  --hover-bg: rgba(255, 255, 255, 0.08);
  --hover-bg-strong: rgba(255, 255, 255, 0.12);
  --active-bg: rgba(255, 255, 255, 0.14);

  /* Border Kontrastwerte */
  --border-rgb: 126, 148, 175;
  --border-subtle-rgb: 80, 98, 124;
  --border-strong-rgb: 168, 191, 214;
  --border-default: rgba(var(--border-rgb), 0.45);
  --border-hover: rgba(var(--border-strong-rgb), 0.55);
  --border-focus: rgba(var(--brand-rgb), 0.65);

  /* Canvas Layering */
  --canvas-overlay: rgba(16, 20, 28, 0.72);
  --canvas-overlay-soft: rgba(24, 28, 36, 0.56);
  --canvas-noise-opacity: 0.04;
}

/* Selection styling with brand color */
::selection {
  background: rgba(111, 211, 255, 0.18);
  color: var(--fg);
}

html {
  background: var(--bg0);
  color-scheme: dark;
}

body {
  background: var(--bg0);
  color: var(--fg);
  caret-color: var(--acc1);
  font-family: var(--font-mono);
}
