:root {
  color-scheme: light;

  /* Core color tokens */
  --fg0: #0f1724;
  --fg1: #4a5163;
  --fg2: #676d82;
  --fg-invert: #f6f7ff;
  --fg-muted: color-mix(in srgb, var(--fg1) 65%, var(--bg1));

  --bg0: #e9ecf4;
  --bg1: #fdfdff;
  --bg2: #dfe3f0;

  --acc1: #4b63ff;
  --acc1-strong: #3748df;
  --acc2: #f45d69;
  --acc2-strong: #d63b4b;

  --ok: #0d8f62;
  --warn: #b26a00;
  --err: #c13a32;
  --info: #0d73d6;

  /* Elevation (dp 0 / 1 / 2 / 4 / 8) */
  --elev-0: 0 0 0 0 rgba(0, 0, 0, 0);
  --elev-1: 0 1px 2px rgba(9, 12, 20, 0.08), 0 0 0 1px rgba(9, 12, 20, 0.04);
  --elev-2: 0 3px 8px rgba(9, 12, 20, 0.12), 0 1px 1px rgba(9, 12, 20, 0.06);
  --elev-4: 0 8px 20px rgba(9, 12, 20, 0.16), 0 2px 6px rgba(9, 12, 20, 0.08);
  --elev-8: 0 16px 40px rgba(9, 12, 20, 0.2), 0 4px 12px rgba(9, 12, 20, 0.12);

  /* Motion (120â€“200 ms) */
  --motion-duration-micro: 120ms;
  --motion-duration-small: 150ms;
  --motion-duration-medium: 180ms;
  --motion-duration-large: 200ms;
  --motion-easing-standard: cubic-bezier(0.2, 0, 0, 1);
  --motion-easing-emphasized: cubic-bezier(0.34, 1.56, 0.64, 1);
  --motion-easing-exit: cubic-bezier(0.4, 0, 1, 1);
  --motion-easing-accelerate: cubic-bezier(0.8, 0, 1, 1);
  --motion-easing-decelerate: cubic-bezier(0, 0, 0.2, 1);

  /* Typography scale (px: 12 14 16 18 20 24 28 32) */
  --font-family-sans:
    "Inter Variable", "Inter", "Segoe UI", "Helvetica Neue", Arial, system-ui, sans-serif;
  --font-family-mono:
    "JetBrains Mono", "Cascadia Code", "SFMono-Regular", Menlo, Consolas, monospace;
  --font-family-numeric: "Inter Variable", "Segoe UI", system-ui, sans-serif;

  --type-12: 0.75rem;
  --type-14: 0.875rem;
  --type-16: 1rem;
  --type-18: 1.125rem;
  --type-20: 1.25rem;
  --type-24: 1.5rem;
  --type-28: 1.75rem;
  --type-32: 2rem;

  --line-tight: 1.2;
  --line-snug: 1.35;
  --line-relaxed: 1.5;

  --font-size-display: var(--type-32);
  --line-height-display: calc(var(--type-32) * 1.25);
  --font-weight-display: 600;
  --letter-spacing-display: -0.01em;

  --font-size-headline: var(--type-28);
  --line-height-headline: calc(var(--type-28) * 1.25);
  --font-weight-headline: 600;
  --letter-spacing-headline: -0.008em;

  --font-size-title: var(--type-24);
  --line-height-title: calc(var(--type-24) * 1.25);
  --font-weight-title: 600;
  --letter-spacing-title: -0.006em;

  --font-size-subtitle: var(--type-20);
  --line-height-subtitle: calc(var(--type-20) * var(--line-snug));
  --font-weight-subtitle: 500;
  --letter-spacing-subtitle: -0.002em;

  --font-size-body: var(--type-16);
  --line-height-body: calc(var(--type-16) * var(--line-relaxed));
  --font-weight-body: 400;

  --font-size-body-strong: var(--type-16);
  --line-height-body-strong: calc(var(--type-16) * var(--line-relaxed));
  --font-weight-body-strong: 600;

  --font-size-body-small: var(--type-14);
  --line-height-body-small: calc(var(--type-14) * var(--line-relaxed));
  --font-weight-body-small: 400;

  --font-size-caption: var(--type-12);
  --line-height-caption: calc(var(--type-12) * var(--line-snug));
  --font-weight-caption: 500;

  --font-size-label: var(--type-14);
  --line-height-label: calc(var(--type-14) * var(--line-snug));
  --font-weight-label: 600;
  --letter-spacing-label: 0.04em;
  --text-transform-label: uppercase;

  --font-size-mono: var(--type-14);
  --line-height-mono: calc(var(--type-14) * var(--line-relaxed));
  --font-weight-mono: 500;

  /* Card-specific typography */
  --font-size-title-hero: var(--type-24);
  --line-height-title-hero: calc(var(--type-24) * var(--line-snug));
  --font-weight-title-hero: 600;

  --font-size-title-lg: var(--type-20);
  --line-height-title-lg: calc(var(--type-20) * var(--line-snug));
  --font-weight-title-lg: 600;

  --font-size-title-base: var(--type-18);
  --line-height-title-base: calc(var(--type-18) * var(--line-snug));
  --font-weight-title-base: 600;

  --font-size-title-sm: var(--type-16);
  --line-height-title-sm: calc(var(--type-16) * var(--line-relaxed));
  --font-weight-title-sm: 600;

  --font-size-description-lg: var(--type-16);
  --line-height-description-lg: calc(var(--type-16) * var(--line-relaxed));
  --font-weight-description-lg: 400;

  --font-size-description-base: var(--type-14);
  --line-height-description-base: calc(var(--type-14) * var(--line-relaxed));
  --font-weight-description-base: 400;

  --font-size-description-sm: var(--type-12);
  --line-height-description-sm: calc(var(--type-12) * var(--line-relaxed));
  --font-weight-description-sm: 400;

  --font-size-metadata: var(--type-12);
  --line-height-metadata: calc(var(--type-12) * var(--line-snug));
  --font-weight-metadata: 600;
  --letter-spacing-metadata: 0.08em;
  --text-transform-metadata: uppercase;

  --font-size-card-label: var(--type-12);
  --line-height-card-label: calc(var(--type-12) * var(--line-snug));
  --font-weight-card-label: 600;

  --font-size-badge: var(--type-12);
  --font-size-input: var(--type-16);

  /* 4px spacing scale */
  --space-none: 0px;
  --space-3xs: 0.25rem;
  --space-2xs: 0.5rem;
  --space-xs: 0.5rem;
  --space-sm: 0.75rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;
  --space-4xl: 4rem;

  --space-stack-xs: 0.5rem;
  --space-stack-sm: 0.75rem;
  --space-stack-md: 1rem;
  --space-stack-lg: 1.5rem;
  --space-inline-sm: 0.5rem;
  --space-inline-md: 0.75rem;
  --space-inline-lg: 1rem;
  --space-section: 3rem;
  --space-container-x: 1rem;
  --space-container-y: 1.5rem;

  --size-touch-compact: 2.75rem;
  --size-touch-comfortable: 3rem;
  --size-touch-relaxed: 3.5rem;
  --size-touch-spacious: 4rem;

  --size-scrollbar: 0.5rem;
  --size-ripple-max: 12.5rem;
  --size-bottomsheet-handle: 0.3125rem;
  --size-bottomsheet-handle-width: 2.5rem;
  --size-bottomsheet-border: 0.125rem;

  /* Radii (allowed set) */
  --radius-none: 0px;
  --radius-2: 2px;
  --radius-4: 4px;
  --radius-8: 8px;
  --radius-12: 12px;
  --radius-16: 16px;

  --radius-xs: var(--radius-2);
  --radius-sm: var(--radius-4);
  --radius-md: var(--radius-8);
  --radius-lg: var(--radius-12);
  --radius-xl: var(--radius-16);
  --radius-pill: var(--radius-16);
  --radius-full: 50%;
  --radius-scrollbar: var(--radius-16);
  --radius-focus: var(--radius-4);
  --radius-toast: var(--radius-12);
  --radius-install-prompt: var(--radius-12);
  --radius-button: var(--radius-12);
  --radius-badge: var(--radius-8);
  --radius-card: var(--radius-12);
  --radius-card-inner: var(--radius-8);
  --radius-card-small: var(--radius-4);
  --radius-avatar: 50%;

  /* Shadows mapped to elevation */
  --shadow-surface: var(--elev-1);
  --shadow-raised: var(--elev-2);
  --shadow-overlay: var(--elev-4);
  --shadow-popover: var(--elev-8);
  --shadow-focus: 0 0 0 3px color-mix(in srgb, var(--acc1) 30%, transparent);
  --shadow-surface-subtle: var(--elev-1);
  --shadow-surface-prominent: var(--elev-4);
  --shadow-surface-hover: var(--elev-2);
  --shadow-surface-active: var(--elev-1);
  --shadow-glow-brand: 0 0 0 3px color-mix(in srgb, var(--acc1) 35%, transparent);
  --shadow-glow-success: 0 0 0 3px color-mix(in srgb, var(--ok) 35%, transparent);
  --shadow-glow-warning: 0 0 0 3px color-mix(in srgb, var(--warn) 35%, transparent);
  --shadow-glow-error: 0 0 0 3px color-mix(in srgb, var(--err) 35%, transparent);

  /* Legacy-friendly color aliases */
  --color-surface-canvas: var(--bg0);
  --color-surface-base: var(--bg1);
  --color-surface-subtle: color-mix(in srgb, var(--bg1) 80%, var(--bg2));
  --color-surface-muted: var(--bg2);
  --color-surface-raised: color-mix(in srgb, var(--bg1) 95%, rgba(255, 255, 255, 0.85));
  --color-surface-card: var(--bg1);
  --color-surface-popover: color-mix(in srgb, var(--bg1) 98%, rgba(255, 255, 255, 0.9));
  --color-surface-overlay: color-mix(in srgb, var(--bg1) 92%, rgba(15, 18, 32, 0.65));

  --color-text-primary: var(--fg0);
  --color-text-secondary: var(--fg1);
  --color-text-tertiary: var(--fg2);
  --color-text-muted: var(--fg-muted);
  --color-text-inverse: var(--fg-invert);
  --color-text-on-brand: var(--fg-invert);
  --color-text-on-accent: var(--fg-invert);
  --color-text-link: var(--acc1);
  --color-text-link-hover: var(--acc1-strong);

  --color-brand-primary: var(--acc1);
  --color-brand-primary-hover: var(--acc1-strong);
  --color-brand-primary-active: color-mix(in srgb, var(--acc1) 80%, #0b1020);
  --color-brand-subtle: color-mix(in srgb, var(--acc1) 10%, var(--bg1));
  --color-brand-strong: var(--acc1-strong);
  --color-brand-on-primary: var(--fg-invert);

  --color-border-hairline: color-mix(in srgb, var(--fg0) 8%, transparent);
  --color-border-subtle: color-mix(in srgb, var(--fg0) 15%, transparent);
  --color-border-strong: color-mix(in srgb, var(--fg0) 30%, transparent);
  --color-border-focus: var(--acc1);
  --color-border-divider: color-mix(in srgb, var(--fg0) 12%, transparent);

  --color-status-success-fg: var(--ok);
  --color-status-success-bg: color-mix(in srgb, var(--ok) 14%, var(--bg1));
  --color-status-success-border: color-mix(in srgb, var(--ok) 45%, var(--bg2));
  --color-status-warning-fg: var(--warn);
  --color-status-warning-bg: color-mix(in srgb, var(--warn) 20%, var(--bg1));
  --color-status-warning-border: color-mix(in srgb, var(--warn) 55%, var(--bg2));
  --color-status-danger-fg: var(--err);
  --color-status-danger-bg: color-mix(in srgb, var(--err) 16%, var(--bg1));
  --color-status-danger-border: color-mix(in srgb, var(--err) 50%, var(--bg2));
  --color-status-info-fg: var(--info);
  --color-status-info-bg: color-mix(in srgb, var(--info) 14%, var(--bg1));
  --color-status-info-border: color-mix(in srgb, var(--info) 48%, var(--bg2));

  --color-action-primary-bg: var(--acc1);
  --color-action-primary-hover: var(--acc1-strong);
  --color-action-primary-active: color-mix(in srgb, var(--acc1) 75%, #05070f);
  --color-action-primary-fg: var(--fg-invert);
  --color-action-primary-focus-ring: color-mix(in srgb, var(--acc1) 35%, transparent);

  --color-action-secondary-bg: color-mix(in srgb, var(--bg1) 90%, var(--bg2));
  --color-action-secondary-hover: color-mix(in srgb, var(--bg1) 70%, var(--bg2));
  --color-action-secondary-active: color-mix(in srgb, var(--bg1) 50%, var(--bg2));
  --color-action-secondary-fg: var(--fg0);
  --color-action-secondary-border: color-mix(in srgb, var(--fg0) 18%, transparent);
  --color-action-secondary-border-hover: color-mix(in srgb, var(--fg0) 30%, transparent);
  --color-action-secondary-focus-ring: color-mix(in srgb, var(--acc1) 25%, transparent);

  --color-action-ghost-fg: var(--fg0);
  --color-action-ghost-hover: color-mix(in srgb, var(--fg0) 6%, transparent);
  --color-action-ghost-active: color-mix(in srgb, var(--fg0) 12%, transparent);
  --color-action-ghost-focus-ring: color-mix(in srgb, var(--acc1) 25%, transparent);

  --color-action-destructive-bg: var(--err);
  --color-action-destructive-hover: color-mix(in srgb, var(--err) 90%, #6a0f0a);
  --color-action-destructive-active: color-mix(in srgb, var(--err) 80%, #280402);
  --color-action-destructive-fg: var(--fg-invert);
  --color-action-destructive-focus-ring: color-mix(in srgb, var(--err) 35%, transparent);

  --color-control-field-bg: color-mix(in srgb, var(--bg1) 92%, rgba(255, 255, 255, 0.9));
  --color-control-field-hover: color-mix(in srgb, var(--bg1) 96%, rgba(255, 255, 255, 0.9));
  --color-control-field-disabled: color-mix(in srgb, var(--bg2) 80%, rgba(255, 255, 255, 0.85));
  --color-control-field-fg: var(--fg0);
  --color-control-field-placeholder: var(--fg2);
  --color-control-field-border: color-mix(in srgb, var(--fg0) 12%, transparent);
  --color-control-field-border-hover: color-mix(in srgb, var(--fg0) 22%, transparent);
  --color-control-field-border-active: var(--acc1);
  --color-control-field-focus-ring: color-mix(in srgb, var(--acc1) 35%, transparent);

  --color-control-chip-bg: color-mix(in srgb, var(--bg1) 70%, var(--acc1) 10%);
  --color-control-chip-hover: color-mix(in srgb, var(--bg1) 60%, var(--acc1) 15%);
  --color-control-chip-fg: var(--fg0);
  --color-control-chip-border: color-mix(in srgb, var(--fg0) 18%, transparent);

  --color-table-header-bg: color-mix(in srgb, var(--bg1) 85%, var(--bg2));
  --color-table-header-fg: var(--fg1);
  --color-table-header-border: color-mix(in srgb, var(--fg0) 12%, transparent);
  --color-table-row-divider: color-mix(in srgb, var(--fg0) 10%, transparent);
  --color-table-row-hover: color-mix(in srgb, var(--bg1) 80%, var(--acc1) 6%);

  --color-overlay-scrim: rgba(4, 6, 12, 0.6);
  --color-overlay-tooltip-bg: color-mix(in srgb, #05070f 85%, var(--bg1));
  --color-overlay-tooltip-fg: var(--fg-invert);
  --color-overlay-toast-bg: color-mix(in srgb, var(--bg1) 85%, #05070f 15%);
  --color-overlay-toast-fg: var(--fg0);
  --color-overlay-toast-accent: var(--acc1);
  --color-overlay-dialog-bg: color-mix(in srgb, var(--bg1) 94%, rgba(255, 255, 255, 0.92));
  --color-overlay-dialog-border: color-mix(in srgb, var(--fg0) 10%, transparent);
}

:root[data-theme="dark"] {
  color-scheme: dark;

  --fg0: #f5f6ff;
  --fg1: #c2c7da;
  --fg2: #8d94ad;
  --fg-invert: #06080f;
  --fg-muted: color-mix(in srgb, var(--fg2) 70%, rgba(8, 10, 18, 0.6));

  --bg0: #06080f;
  --bg1: #0f1424;
  --bg2: #1b2235;

  --acc1: #7f96ff;
  --acc1-strong: #a8b5ff;
  --acc2: #ff8591;
  --acc2-strong: #ff5c6c;

  --ok: #31d193;
  --warn: #ffb74d;
  --err: #ff6b6b;
  --info: #5aa8ff;

  --elev-0: 0 0 0 0 rgba(0, 0, 0, 0);
  --elev-1: 0 1px 2px rgba(0, 0, 0, 0.55), 0 0 0 1px rgba(255, 255, 255, 0.04);
  --elev-2: 0 4px 10px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
  --elev-4: 0 10px 26px rgba(0, 0, 0, 0.65), 0 3px 8px rgba(0, 0, 0, 0.55);
  --elev-8: 0 20px 48px rgba(0, 0, 0, 0.75), 0 6px 14px rgba(0, 0, 0, 0.6);

  --color-overlay-scrim: rgba(0, 0, 0, 0.7);
  --color-overlay-tooltip-bg: color-mix(in srgb, #05070f 92%, rgba(255, 255, 255, 0.08));
  --color-overlay-toast-bg: color-mix(in srgb, var(--bg2) 90%, rgba(0, 0, 0, 0.7));
  --color-overlay-dialog-bg: color-mix(in srgb, var(--bg1) 96%, rgba(8, 10, 18, 0.85));
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    color-scheme: dark;

    --fg0: #f5f6ff;
    --fg1: #c2c7da;
    --fg2: #8d94ad;
    --fg-invert: #06080f;
    --fg-muted: color-mix(in srgb, var(--fg2) 70%, rgba(8, 10, 18, 0.6));

    --bg0: #06080f;
    --bg1: #0f1424;
    --bg2: #1b2235;

    --acc1: #7f96ff;
    --acc1-strong: #a8b5ff;
    --acc2: #ff8591;
    --acc2-strong: #ff5c6c;

    --ok: #31d193;
    --warn: #ffb74d;
    --err: #ff6b6b;
    --info: #5aa8ff;

    --elev-0: 0 0 0 0 rgba(0, 0, 0, 0);
    --elev-1: 0 1px 2px rgba(0, 0, 0, 0.55), 0 0 0 1px rgba(255, 255, 255, 0.04);
    --elev-2: 0 4px 10px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
    --elev-4: 0 10px 26px rgba(0, 0, 0, 0.65), 0 3px 8px rgba(0, 0, 0, 0.55);
    --elev-8: 0 20px 48px rgba(0, 0, 0, 0.75), 0 6px 14px rgba(0, 0, 0, 0.6);

    --color-overlay-scrim: rgba(0, 0, 0, 0.7);
    --color-overlay-tooltip-bg: color-mix(in srgb, #05070f 92%, rgba(255, 255, 255, 0.08));
    --color-overlay-toast-bg: color-mix(in srgb, var(--bg2) 90%, rgba(0, 0, 0, 0.7));
    --color-overlay-dialog-bg: color-mix(in srgb, var(--bg1) 96%, rgba(8, 10, 18, 0.85));
  }
}

@media (prefers-reduced-motion: reduce) {
  :root {
    --motion-duration-micro: 0ms;
    --motion-duration-small: 0ms;
    --motion-duration-medium: 0ms;
    --motion-duration-large: 0ms;
  }
}
