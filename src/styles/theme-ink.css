/**
 * DISA AI - SCHIEFER & KREIDE THEME
 *
 * Konzept: Matte Schieferoberfläche mit digitaler Kreide.
 * Ruhig, analog, warm und klar.
 */

:root {
  /* ========================================
   * COLOR PALETTE (Schiefer)
   * ======================================== */

  /* Slate Backgrounds */
  --bg-app: #050608; /* Tiefes Nachtschiefer, deutlich dunklerer Grundton */
  --bg-slate: #0b0d10; /* Abgesetzte Schieferfläche mit leichter Tönung */

  --bg-page: var(--bg-slate); /* Mapping for compatibility */
  --bg-surface: #121418; /* Helle Tafelstufe für Karten */
  --bg-surface-strong: #1a1d22;

  /* Chalk Text */
  --ink-primary: #ececec; /* text-chalk */
  --ink-secondary: #9e9e9e; /* text-fade */
  --ink-tertiary: #757575;
  --ink-on-accent: #0e0e0f;

  /* Chalk Accents */
  --accent-primary: #f3d68a; /* Warmes Kreide-Gelb als Signalfarbe */
  --accent-secondary: #7ddcd3; /* Gedämpftes Türkis für zarte Marker */
  --accent-tertiary: #ffcab8; /* Sanftes Kreide-Pink als Reserve */
  --accent-hover: #ffe199;

  /* Semantic Colors aligned to chalk warmth */
  --color-success: #a5d6a7;
  --color-warning: var(--accent-secondary);
  --color-error: #ef9a9a;

  /* Mapping to existing variable names for compatibility */
  --bg-base: var(--bg-app);
  --bg-0: var(--bg-app);
  --bg-1: var(--bg-page);
  --bg-2: var(--bg-surface);

  --surface-1: var(--bg-page);
  --surface-2: var(--bg-surface);
  --surface-3: var(--bg-surface-strong);
  --surface-inset: #0a0a0b;

  --text-primary: var(--ink-primary);
  --text-secondary: var(--ink-secondary);
  --text-muted: var(--ink-tertiary);
  --text-disabled: rgba(158, 158, 158, 0.5);
  --text-on-accent: var(--ink-on-accent);

  --accent: var(--accent-primary);
  --brand: var(--accent-primary);

  /* ========================================
   * SHADOWS & BORDERS (digitale Kreide)
   * ======================================== */

  /* Shadows - minimal, mostly for separation */
  --shadow-paper: 0 1px 2px rgba(0, 0, 0, 0.4);
  --shadow-floating: 0 8px 24px rgba(0, 0, 0, 0.5);

  --shadow-sm: var(--shadow-paper);
  --shadow-md: var(--shadow-floating);

  /* Borders - Chalk Lines */
  --border-color: rgba(236, 236, 236, 0.18);
  --border-chalk: rgba(236, 236, 236, 0.32);
  --border-chalk-strong: rgba(236, 236, 236, 0.55);
  --border-width: 1px;

  /* Radius */
  --r-sm: 8px;
  --r-md: 12px;
  --r-lg: 16px;

  /* ========================================
   * TYPOGRAPHY
   * ======================================== */

  --font-sans: "Inter", "IBM Plex Sans", "Cabin", system-ui, -apple-system, sans-serif;
  --text-base: 16px; /* slightly smaller for cleaner look? Spec said 17px base previously but standard is 16 */
  --leading-normal: 1.6;

  /* ========================================
   * TEXTURES
   * ======================================== */

  /* 3-6% noise simulation via repeating gradient or base64 (applied in index.css typically) */
  /* Here we define the color for the overlay */
  --noise-overlay-color: rgba(255, 255, 255, 0.04);

  /* Chalk Noise Pattern - subtle grain texture for slate surface */
  --chalk-noise: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="300"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/><feColorMatrix type="saturate" values="0"/></filter><rect width="300" height="300" filter="url(%23noise)" opacity="0.05"/></svg>');

  /* Chalk Glow for text and borders */
  --chalk-glow: 0 0 4px rgba(236, 236, 236, 0.12), 0 0 1px rgba(236, 236, 236, 0.18);
  --chalk-glow-strong: 0 0 6px rgba(236, 236, 236, 0.16), 0 0 2px rgba(236, 236, 236, 0.22);
  --chalk-glow-accent: 0 0 6px rgba(167, 200, 255, 0.22), 0 0 2px rgba(167, 200, 255, 0.3);

  /* Chalk Line - subtle blur for hand-drawn effect */
  --border-chalk-blur: rgba(236, 236, 236, 0.35);
  --chalk-line-shadow: 0 0 1px rgba(236, 236, 236, 0.4);

  /* Chalk Dust Particles - for interactive elements */
  --chalk-dust:
    radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.02) 0%, transparent 40%),
    radial-gradient(circle at 40% 80%, rgba(255, 255, 255, 0.025) 0%, transparent 45%);

  /* Enhanced Shadows for depth */
  --shadow-slate-soft: 0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.02);
  --shadow-slate-deep: 0 4px 16px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.03);

  /* Improved Border with texture */
  --border-ink: rgba(236, 236, 236, 0.12);
}

:root[data-theme="dark"] {
  /* Ensure consistency in dark mode */
  --bg-app: #0e0e0f;
  --bg-page: #131314;
}

/* ========================================
 * CHALK UTILITY CLASSES
 * ======================================== */

.chalk-text {
  text-shadow: var(--chalk-glow);
  letter-spacing: 0.02em;
}

.chalk-text-strong {
  text-shadow: var(--chalk-glow-strong);
  letter-spacing: 0.02em;
  font-weight: 500;
}

.chalk-border {
  border-color: var(--border-chalk);
  box-shadow: var(--chalk-line-shadow);
}

.chalk-border-strong {
  border-color: var(--border-chalk-strong);
  box-shadow: var(--chalk-glow);
}

.slate-surface {
  background-color: var(--bg-surface);
  background-image: var(--chalk-noise);
  background-blend-mode: overlay;
}

.slate-surface-raised {
  background-color: var(--bg-surface);
  background-image: var(--chalk-noise), var(--chalk-dust);
  background-blend-mode: overlay, screen;
  box-shadow: var(--shadow-slate-soft);
}

/* Chalk-style focus states */
.chalk-focus:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px var(--border-chalk-strong),
    var(--chalk-glow-accent);
}

/* Subtle texture overlay for containers */
.slate-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: var(--chalk-noise);
  opacity: 0.6;
  pointer-events: none;
  z-index: 0;
}
