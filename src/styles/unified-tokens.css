/**
 * UNIFIED TOKENS - VERALTETES SYSTEM
 *
 * Dieses File wird nur temporär beibehalten für Komponenten,
 * die noch nicht auf das neue zentrale Designsystem migriert wurden.
 *
 * ALLE NEUEN KOMPONENTEN MÜSSEN DAS ZENTRALE DESIGNSYSTEM VERWENDEN:
 * @import "./design-tokens.css";
 *
 * Migration ist verpflichtend - siehe MIGRATION_GUIDE.md
 */

/* DEPRECIATED - DO NOT USE FOR NEW COMPONENTS */
@layer base {
  :root {
    /* Basis-Farbsystem: Soft-Depth-Dark */
    --bg0: #040910;
    --bg1: rgba(8, 16, 28, 0.92);
    --bg2: rgba(16, 26, 44, 0.78);
    --bg3: rgba(24, 36, 56, 0.6);
    --bg0-hsl: 215 60% 4%;
    --bg1-hsl: 216 56% 7%;
    --bg2-hsl: 219 47% 12%;
    --fg0-hsl: 214 47% 97%;
    --fg1-hsl: 216 28% 67%;
    --fg0: #f4f7fb;
    --fg1: #92a5c2;
    --fg2: rgba(146, 165, 194, 0.65);
    --bg-gradient:
      radial-gradient(120% 110% at 0% -20%, rgba(97, 231, 255, 0.14), transparent 60%),
      radial-gradient(85% 90% at 110% 0%, rgba(181, 151, 255, 0.17), transparent 58%),
      linear-gradient(180deg, #040910 0%, #050b14 40%, #03060d 100%);

    /* Surfaces */
    --surface-bg: var(--bg0);
    --surface-base: var(--bg1);
    --surface-card: var(--bg2);
    --surface-panel: color-mix(in srgb, #0e182a 92%, transparent);
    --surface-inline: color-mix(in srgb, #101a2c 80%, transparent);
    --surface-muted: color-mix(in srgb, #101a2c 62%, transparent);
    --surface-chat: color-mix(in srgb, #101a2c 88%, transparent);
    --surface-overlay: color-mix(in srgb, var(--bg1) 96%, transparent);
    --surface-glass: rgba(255, 255, 255, 0.04);
    --surface-glass-strong: rgba(255, 255, 255, 0.08);
    --surface-neumorphic-overlay: var(--surface-panel);

    /* Text & Vordergrund */
    --fg: var(--fg0);
    --fg-muted: var(--fg1);
    --fg-subtle: var(--fg2);
    --text-primary: var(--fg);
    --text-secondary: var(--fg-muted);
    --text-tertiary: var(--fg-subtle);
    --text-muted: var(--fg-subtle);
    --text-on-accent: #04111c;
    --text-inverted: #04111c;

    /* Accent / Status */
    --accent: #61e7ff;
    --accent-alt: #b597ff;
    --accent-rgb: 97 231 255;
    --accent-strong: #43d7f2;
    --accent-soft: color-mix(in srgb, var(--accent) 16%, transparent);
    --accent-surface: color-mix(in srgb, var(--accent) 12%, var(--surface-glass));
    --accent-border: color-mix(in srgb, var(--accent) 42%, transparent);
    --brand-1: 257 100% 80%;
    --brand-2: 189 100% 69%;
    --brand-3: 216 56% 50%;
    --brand-4: 189 98% 62%;
    --success: #64f6c2;
    --warning: #ffc970;
    --danger: #ff6b81;
    --info: #61e7ff;

    /* Ränder */
    --line: rgba(255, 255, 255, 0.12);
    --line-subtle: rgba(255, 255, 255, 0.06);
    --glass-border-soft: rgba(255, 255, 255, 0.18);
    --glass-border-strong: rgba(255, 255, 255, 0.16);
    --border-glass: var(--glass-border-soft);
    --border-glass-strong: var(--glass-border-strong);
    --border-glass-accent: color-mix(in srgb, var(--accent) 35%, transparent);
    --border-subtle: var(--line-subtle);
    --border-strong: var(--glass-border-strong);

    /* Legacy-kompatible RGB-Werte */
    --surface-rgb: 255 255 255 / 0.04;
    --glass-rgb: 255 255 255 / 0.06;
    --stroke-rgb: 255 255 255 / 0.16;

    /* Radius - DEPRECIATED - Use design-tokens.css */
    --radius-sm: 0.375rem; /* 6px - from tokens */
    --radius-md: 0.625rem; /* 10px - from tokens */
    --radius-lg: 0.875rem; /* 14px - from tokens */
    --radius-xl: 1.125rem; /* 18px - from tokens */
    --radius-card-inner: 0.625rem; /* 10px - MIGRIERT zu --radius-sm */

    /* Spacing Scale - Adding comprehensive spacing from theme */
    --space-1: 0.5rem; /* 8px */
    --space-2: 0.75rem; /* 12px */
    --space-3: 1rem; /* 16px */
    --space-4: 1.5rem; /* 24px */
    --space-5: 2rem; /* 32px */
    --space-6: 2.5rem; /* 40px */
    --space-8: 3rem; /* 48px */
    --space-12: 4rem; /* 64px */
    --spacing-1: var(--space-1);
    --spacing-2: var(--space-2);
    --spacing-3: var(--space-3);
    --spacing-4: var(--space-4);
    --spacing-6: var(--space-6);
    --spacing-8: var(--space-8);
    --spacing-12: var(--space-12);

    /* Modern spacing aliases used across the app */
    --space-3xs: var(--space-1);
    --space-2xs: var(--space-2);
    --space-xs: var(--space-3);
    --space-sm: var(--space-4);
    --space-md: var(--space-6);
    --space-lg: var(--space-8);
    --space-xl: var(--space-12);
    --space-2xl: var(--space-12);
    --space-3xl: var(--space-12);
    --space-4xl: var(--space-12);

    /* Semantic spacing tokens */
    --space-stack-xs: var(--space-2);
    --space-stack-sm: var(--space-3);
    --space-stack-md: var(--space-4);
    --space-stack-lg: var(--space-6);
    --space-inline-sm: var(--space-2);
    --space-inline-md: var(--space-3);
    --space-inline-lg: var(--space-4);
    --space-section: var(--space-12);
    --space-container-x: var(--space-4);
    --space-container-y: var(--space-6);

    /* Page layout metrics */
    --page-padding-x: var(--space-sm); /* 16px on handheld */
    --page-padding-y: var(--space-md); /* 24px on handheld */
    --page-section-gap: var(--space-stack-lg);

    /* Touch sizes mapped to new naming */
    --size-touch-compact: var(--touch-compact); /* DEPRECIATED - Use 44px directly */
    --size-touch-comfortable: var(--touch-comfort); /* DEPRECIATED */
    --size-touch-relaxed: var(--touch-relaxed); /* DEPRECIATED */
    --size-touch-spacious: var(--touch-relaxed); /* DEPRECIATED */
    --size-scrollbar: 0.5rem;
    --size-ripple-max: 12.5rem; /* DEPRECIATED */
    --size-bottomsheet-handle: 5px; /* DEPRECIATED */
    --size-bottomsheet-handle-width: 40px; /* DEPRECIATED */
    --size-bottomsheet-border: 2px; /* DEPRECIATED */

    /* Layered surfaces */
    --layer-bg-1: var(--surface-bg);
    --layer-bg-2: var(--surface-base);
    --layer-bg-3: var(--surface-card);
    --layer-overlay: var(--surface-overlay);
    --layer-glass-panel: color-mix(in srgb, var(--surface-card) 78%, transparent);
    --layer-glass-inline: color-mix(in srgb, var(--surface-base) 82%, transparent);
    --layer-glass-muted: color-mix(in srgb, var(--surface-base) 60%, transparent);

    /* Interaction + button tokens */
    --button-primary-bg: var(--accent);
    --button-primary-bg-hover: var(--accent-strong);
    --button-primary-border: color-mix(in srgb, var(--accent) 55%, transparent);
    --button-primary-fg: var(--text-on-accent);
    --button-secondary-bg: var(--layer-glass-panel);
    --button-secondary-bg-hover: color-mix(in srgb, var(--layer-glass-panel) 92%, transparent);
    --button-secondary-border: var(--glass-border-soft);
    --button-secondary-fg: var(--text-primary);
    --button-ghost-hover: color-mix(in srgb, var(--layer-glass-panel) 40%, transparent);
    --button-ghost-fg: var(--text-primary);
    --button-destructive-bg: var(--danger);
    --button-destructive-hover: color-mix(in srgb, var(--danger) 85%, black 15%);
    --button-destructive-fg: var(--text-on-accent);

    /* Shadows - DEPRECIATED - Use design-tokens.css */
    --shadow-sm: var(--shadow-light);
    --shadow-md: var(--shadow-heavy);
    --shadow-lg: var(--shadow-heavy);
    --shadow-1: var(--shadow-light);
    --shadow-2: var(--shadow-heavy);

    /* Glassmorphism specific shadows - DEPRECIATED */
    --shadow-glass-subtle: var(--shadow-light);
    --shadow-glass-medium: var(--shadow-heavy);
    --shadow-glass-strong: var(--shadow-heavy);
    --shadow-glass-floating: var(--shadow-heavy);

    /* Glow Shadow Effects - DEPRECIATED */
    --shadow-glow-brand: 0 0 16px rgba(97, 109, 255, 0.25);
    --shadow-glow-brand-subtle: 0 0 8px rgba(97, 109, 255, 0.12);
    --shadow-glow-brand-strong: 0 0 24px rgba(97, 109, 255, 0.42);
    --shadow-glow-accent-subtle: 0 0 8px rgba(97, 109, 255, 0.15);
    --shadow-glow-accent: 0 0 24px hsla(var(--brand-2) / 0.35);
    --shadow-glow-success: 0 0 16px hsla(var(--success) / 0.25);
    --shadow-glow-success-subtle: 0 0 8px hsla(var(--success) / 0.12);
    --shadow-glow-warning: 0 0 16px hsla(var(--warning) / 0.25);
    --shadow-glow-warning-subtle: 0 0 8px hsla(var(--warning) / 0.12);
    --shadow-glow-error: 0 0 16px hsla(var(--danger) / 0.25);
    --shadow-glow-error-subtle: 0 0 8px hsla(var(--danger) / 0.12);
    --shadow-glow-neutral-subtle: 0 0 8px rgba(15, 23, 42, 0.08);
    --shadow-elevated-glow: 0 0 24px rgba(97, 109, 255, 0.18);

    /* Focus ring */
    --ring-outline: 0 0 0 3px hsl(var(--brand-4) / 0.35);
    --color-border-focus: hsl(var(--brand-2) / 1);

    /* Z-index System (fixed hierarchy) - Aligned with z-index-system.css */
    --z-background: 0;
    --z-base: 1;
    --z-content: 10;
    --z-sticky-header: 20;
    --z-sticky-content: 30;
    --z-header: 100;
    --z-navigation: 100;
    --z-bottom-nav: 100;
    --z-sidebar: 90;
    --z-composer: 110; /* Chat input composer */
    --z-fab: 120; /* Floating action buttons */
    --z-drawer: 200; /* Side drawers */
    --z-bottom-sheet: 300; /* Bottom sheets */
    --z-modal-backdrop: 400;
    --z-modal: 500;
    --z-popover: 600;
    --z-dropdown: 700;
    --z-tooltip: 800;
    --z-toast: 1000;
    --z-notification: 1100;
    --z-skip-link: 9999;
    --z-debug: 10000;

    /* Safe Area */
    --safe-top: env(safe-area-inset-top, 0);
    --safe-right: env(safe-area-inset-right, 0);
    --safe-bottom: env(safe-area-inset-bottom, 0);
    --safe-left: env(safe-area-inset-left, 0);
    --safe-area-top: var(--safe-top);
    --safe-area-right: var(--safe-right);
    --safe-area-bottom: var(--safe-bottom);
    --safe-area-left: var(--safe-left);

    /* Touch sizes - DEPRECIATED - Use design-tokens.css */
    --touch-compact: 44px;
    --touch-comfort: 48px;
    --touch-relaxed: 56px;

    /* Aurora Signature Gradient (overlay layer) - Maintaining original */
    --grad-aurora:
      radial-gradient(1200px 600px at 8% -10%, hsl(var(--brand-1) / 0.9) 0%, transparent 35%),
      radial-gradient(900px 500px at 100% 0%, hsl(var(--brand-2) / 0.85) 0%, transparent 42%),
      radial-gradient(900px 600px at 70% 100%, hsl(var(--brand-3) / 0.75) 0%, transparent 50%),
      radial-gradient(700px 400px at 10% 100%, hsl(var(--brand-4) / 0.7) 0%, transparent 55%);

    /* Fallbacks for modern CSS features */
    --fallback-accent-glow: rgba(139, 92, 246, 0.35); /* Fallback for accent glow */
    --fallback-success-glow: rgba(34, 197, 94, 0.25); /* Fallback for success glow */
    --fallback-warning-glow: rgba(249, 156, 32, 0.25); /* Fallback for warning glow */
    --fallback-error-glow: rgba(239, 68, 68, 0.25); /* Fallback for error glow */

    /* Typography - Adding from theme */
    --font-family-sans:
      "Plus Jakarta Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
      Arial, "Noto Sans", sans-serif;
    --font-family-mono:
      "Fira Code", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;
    --font-size-caption: 0.875rem; /* 14px - DEPRECIATED */
    --font-size-body: 1rem; /* 16px */
    --font-size-title-sm: 1.125rem; /* 18px - DEPRECIATED */
    --font-size-title-lg: 1.5rem; /* 24px - DEPRECIATED */
    --line-height-caption: 1.4;
    --line-height-body: 1.55;
    --line-height-title-sm: 1.4;
    --line-height-title-lg: 1.3;
    --font-weight-regular: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;

    /* Motion - Adding from theme */
    --motion-duration-1: 120ms;
    --motion-duration-2: 180ms;
    --motion-duration-3: 240ms;
    --motion-duration-fast: 120ms;
    --motion-duration-medium: 180ms;
    --motion-duration-slow: 240ms;
    --motion-ease-1: cubic-bezier(0.23, 1, 0.32, 1);
    --motion-ease-standard: cubic-bezier(0.23, 1, 0.32, 1);

    /* Backdrop blur values */
    --backdrop-blur-subtle: 8px;
    --backdrop-blur-medium: 12px;
    --backdrop-blur-strong: 20px; /* DEPRECIATED - Use --backdrop-blur-medium */

    /* Surface-specific values */
    --surface-neumorphic-base: hsl(var(--bg1-hsl));
    --surface-neumorphic-floating: hsl(var(--bg2-hsl));
    --surface-neumorphic-pressed: hsl(var(--bg0-hsl) / 0.6);
    --surface-glass-card: rgba(var(--glass-rgb));
    --surface-glass-panel: rgba(var(--surface-rgb));
    --acc2: hsl(var(--brand-2)); /* Common accent alias */
    --accent-contrast: hsl(var(--fg0-hsl)); /* For contrast with accent */
  }

  /* Optional Light Theme - Using HSL for consistency */
  [data-theme="light"] {
    --bg0-hsl: 230 15% 98%;
    --bg1-hsl: 230 15% 96%;
    --bg2-hsl: 230 15% 94%;
    --fg0-hsl: 230 15% 10%;
    --fg1-hsl: 230 10% 35%;

    --surface-base: hsl(var(--bg0-hsl));
    --surface-1: hsl(var(--bg1-hsl));
    --surface-card: hsl(var(--bg2-hsl));
  }

  /* Body styles - from theme */
  body {
    background-color: var(--surface-bg);
    font-family: var(--font-family-sans);
    font-size: var(--font-size-body);
    line-height: var(--line-height-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Enhanced scrollbars for better UX - from theme */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--surface-base);
    border-radius: var(--radius-xs);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--line);
    border-radius: var(--radius-xs);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--accent);
  }

  /* Focus styles for better accessibility - from theme */
  *:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
  }

  /* Selection color - from theme */
  ::selection {
    background-color: color-mix(in srgb, var(--accent) 30%, transparent);
    background-color: var(
      --fallback-accent-selection,
      color-mix(in srgb, var(--accent) 30%, transparent)
    ); /* Fallback variable */
    color: var(--fg);
  }

  @media (min-width: 768px) {
    :root {
      --page-padding-x: var(--space-md);
      --page-padding-y: var(--space-lg);
      --page-section-gap: var(--space-md);
    }
  }

  @media (min-width: 1280px) {
    :root {
      --page-padding-x: var(--space-xl);
      --page-padding-y: var(--space-xl);
      --page-section-gap: var(--space-lg);
    }
  }
}

/* Fallback styles for browsers without modern CSS support */
:root:not(.supports-no-color-mix) {
  /* Default styles remain the same for modern browsers */
}

/* Enhanced fallbacks for legacy browsers */
.supports-no-color-mix {
  /* Provide fallback values for elements that use color-mix */
  --fallback-accent-selection: rgba(139, 92, 246, 0.3);

  /* Add fallbacks for backdrop-filter if needed */
  /* Note: For complex gradients that can't be easily replaced, we'll need to rely on graceful degradation */
}

/* Additional fallback styles for specific components */
.supports-no-backdrop-filter .backdrop-blur-lg {
  background-color: var(
    --surface-overlay,
    rgba(255, 255, 255, 0.1)
  ); /* More opaque background when blur isn't available */
}

/* Wave animation for skeleton screens */
@keyframes wave {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.animate-wave {
  background: linear-gradient(
    90deg,
    var(--surface-base) 0,
    var(--surface-card) 40px,
    var(--surface-base) 80px
  );
  background-size: 200px 100%;
  animation: wave 1.6s linear infinite;
}
