# Disa AI - Wrangler Configuration
# ==================================
# This file configures Cloudflare Pages Functions for local development.
# Use `npm run dev:functions` or `npm run preview:functions` to test locally.

name = "disaai"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Pages-specific configuration
pages_build_output_dir = "dist"

# =====================================================================
# Required Cloudflare Secrets (set via CF Dashboard → Pages → Settings):
#
#   OPENROUTER_API_KEY    — Your OpenRouter API key (server-side only, never exposed to client)
#   PROXY_SHARED_SECRET   — HMAC shared secret for /api/chat proxy authentication
#
# Required Build-Time Environment Variable (set in CF Pages Build Settings):
#
#   VITE_PROXY_SHARED_SECRET — Must match PROXY_SHARED_SECRET above.
#                              This is baked into the JS bundle (not a real secret).
#
# After changing any variable: trigger a new deployment (Settings → Deployments → Retry).
# For local development, create a .dev.vars file (see .dev.vars.example).
# =====================================================================
